<head>
  <style>
    body { 
      background-color: black; 
      font-family: "arial"; 
      color: 10f7fc;
      text-align: center;
      border-radius: 5;
    }
  </style>
  <title>Comet Blessing</title>
</head>

<body>
  <main>
    <h1>Comet Blessing</h1>
    <div id="blessing"></div>
    <p></p>
    <div id="interrogate"></div>
    <script>
    

getState()
    .then((state) => renderPage(state))

async function getState() {
    const response = await fetch('/apps/bless/state')
    return response.json()
}

const blessing = document.getElementById("blessing");

function renderPage(state)
{
  if(state == 0)
  {
      const blessingText = document.createElement("div");
      blessingText.textContent = "You are currently blessed by no one.";
      blessing.appendChild(blessingText);
  }
  else
  {
      const blessingText = document.createElement("div");
      blessingText.textContent = "You are currently blessed by ~" + state + ".";
      blessing.appendChild(blessingText);
  }
}

</script>
</main>